{"last_node_id":157,"last_link_id":140,"nodes":[{"id":10,"type":"CLIPSetLastLayer","pos":[2020,420],"size":{"0":315,"1":58},"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":13}],"outputs":[{"name":"CLIP","type":"CLIP","links":[14,15],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2]},{"id":93,"type":"Get resolution [Crystools]","pos":[2000,2370],"size":{"0":210,"1":100},"flags":{},"order":27,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":48}],"outputs":[{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":89,"type":"ImageScale","pos":[1940,1630],"size":{"0":320,"1":130},"flags":{},"order":18,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":56},{"name":"width","type":"INT","link":44,"widget":{"name":"width"}},{"name":"height","type":"INT","link":45,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[46,47,54],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["bicubic",512,512,"disabled"]},{"id":75,"type":"Reroute","pos":[4460,3310],"size":[75,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":62}],"outputs":[{"name":"","type":"IMAGE","links":[35,37],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":7,"type":"CLIPTextEncode","pos":[2480,490],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":16,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":15}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[11],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["drawing, illustration, sketch, painting"],"color":"#322","bgcolor":"#533"},{"id":26,"type":"Reroute","pos":[2270,-300],"size":[75,26],"flags":{},"order":9,"mode":0,"inputs":[{"name":"","type":"*","link":16}],"outputs":[{"name":"","type":"MODEL","links":[26],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":30,"type":"Reroute","pos":[2230,1090],"size":[75,26],"flags":{},"order":11,"mode":2,"inputs":[{"name":"","type":"*","link":21}],"outputs":[{"name":"","type":"VAE","links":[20,23],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":49,"type":"MaskToImage","pos":[1740,2510],"size":{"0":180,"1":30},"flags":{},"order":20,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":121}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[52],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":73,"type":"Reroute","pos":[1550,3310],"size":[75,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":65}],"outputs":[{"name":"","type":"IMAGE","links":[62],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":86,"type":"Get resolution [Crystools]","pos":[2000,1490],"size":{"0":210,"1":100},"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":47}],"outputs":[{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":28,"type":"Reroute","pos":[3490,840],"size":[75,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":57}],"outputs":[{"name":"","type":"LATENT","links":[18],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":59,"type":"UpscaleModelLoader","pos":[4520,240],"size":{"0":315,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[29],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x-UltraSharp.pth"]},{"id":72,"type":"Get resolution [Crystools]","pos":[4980,970],"size":{"0":210,"1":100},"flags":{},"order":25,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":35}],"outputs":[{"name":"width","type":"INT","links":[31],"shape":3,"slot_index":0},{"name":"height","type":"INT","links":[32],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":63,"type":"ImageScale","pos":[5270,340],"size":{"0":320,"1":130},"flags":{},"order":44,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":34},{"name":"width","type":"INT","link":31,"widget":{"name":"width"}},{"name":"height","type":"INT","link":32,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[61,63],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["bilinear",512,512,"disabled"]},{"id":78,"type":"Get resolution [Crystools]","pos":[4860,190],"size":{"0":210,"1":100},"flags":{},"order":45,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":40}],"outputs":[{"name":"width","type":"INT","links":[],"shape":3,"slot_index":0},{"name":"height","type":"INT","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":33,"type":"PreviewImage","pos":[6900,400],"size":{"0":880,"1":1300},"flags":{},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":22}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":52,"type":"INPAINT_ApplyFooocusInpaint","pos":[3250,-300],"size":{"0":210,"1":66},"flags":{},"order":37,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":26},{"name":"patch","type":"INPAINT_PATCH","link":24},{"name":"latent","type":"LATENT","link":25}],"outputs":[{"name":"MODEL","type":"MODEL","links":[28],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"INPAINT_ApplyFooocusInpaint"}},{"id":27,"type":"Reroute","pos":[3490,-300],"size":[75,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"","type":"*","link":28}],"outputs":[{"name":"","type":"MODEL","links":[17],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":88,"type":"PreviewImage","pos":[1990,1800],"size":{"0":210,"1":250},"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":46}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":94,"type":"PreviewImage","pos":[1990,2680],"size":{"0":230,"1":250},"flags":{},"order":28,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":49}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":97,"type":"Get resolution [Crystools]","pos":[5330,190],"size":{"0":210,"1":100},"flags":{},"order":47,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":63}],"outputs":[{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":11,"type":"PreviewImage","pos":[5960,410],"size":{"0":900,"1":1300},"flags":{},"order":48,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":36}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":76,"type":"Reroute","pos":[6790,3310],"size":[75,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":37}],"outputs":[{"name":"","type":"IMAGE","links":[38],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":40,"type":"Text Overlay","pos":[6900,360],"size":{"0":400,"1":316},"flags":{"collapsed":true},"order":30,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":38}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[22,59],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Text Overlay"},"widgets_values":["Original Image",200,"ariblk.ttf","#FFFFFF","#000000",0.2,16,"center","bottom",0,-50]},{"id":41,"type":"Text Overlay","pos":[5970,370],"size":{"0":400,"1":316},"flags":{"collapsed":true},"order":46,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":61}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[36],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Text Overlay"},"widgets_values":["Text to Image + Fooocus Inpaint",200,"ariblk.ttf","#FFFFFF","#000000",0.2,16,"center","bottom",0,-50]},{"id":98,"type":"Get resolution [Crystools]","pos":[7070,270],"size":{"0":210,"1":100},"flags":{},"order":33,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":59}],"outputs":[{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":8,"type":"VAEDecode","pos":[4090,360],"size":{"0":210,"1":46},"flags":{},"order":41,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":12},{"name":"vae","type":"VAE","link":19,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[30,39],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":29,"type":"Reroute","pos":[3940,1090],"size":[75,26],"flags":{},"order":17,"mode":2,"inputs":[{"name":"","type":"*","link":20,"slot_index":0}],"outputs":[{"name":"","type":"VAE","links":[19]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":77,"type":"Get resolution [Crystools]","pos":[4100,210],"size":{"0":210,"1":100},"flags":{},"order":43,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":39}],"outputs":[{"name":"width","type":"INT","links":[],"shape":3,"slot_index":0},{"name":"height","type":"INT","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":96,"type":"Reroute","pos":[550,1630],"size":[75,26],"flags":{},"order":13,"mode":0,"inputs":[{"name":"","type":"*","link":122}],"outputs":[{"name":"","type":"IMAGE","links":[56,65],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":148,"type":"Reroute","pos":[420,1650],"size":[75,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":123}],"outputs":[{"name":"","type":"MASK","links":[121],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":147,"type":"Get resolution [Crystools]","pos":[40,1470],"size":{"0":210,"1":100},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":119}],"outputs":[{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":6,"type":"CLIPTextEncode","pos":[2480,270],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":15,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":14,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[10],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["woman, blonde hair, portrait, white wall"],"color":"#232","bgcolor":"#353"},{"id":90,"type":"SDXL Resolutions (JPS)","pos":[1170,2030],"size":{"0":315,"1":78},"flags":{},"order":1,"mode":0,"outputs":[{"name":"width","type":"INT","links":[44,50],"shape":3,"slot_index":0},{"name":"height","type":"INT","links":[45,51],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"SDXL Resolutions (JPS)"},"widgets_values":["portrait - 896x1152 (3:4)"]},{"id":95,"type":"ImageScale","pos":[1940,2510],"size":{"0":320,"1":130},"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":52},{"name":"width","type":"INT","link":50,"widget":{"name":"width"}},{"name":"height","type":"INT","link":51,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[48,49,131],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["bicubic",512,512,"disabled"]},{"id":57,"type":"ImageToMask","pos":[2290,2510],"size":{"0":210,"1":60},"flags":{"collapsed":false},"order":29,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":131}],"outputs":[{"name":"MASK","type":"MASK","links":[132],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":42,"type":"VAEEncodeForInpaint","pos":[2890,840],"size":{"0":315,"1":98},"flags":{},"order":35,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":54},{"name":"vae","type":"VAE","link":23},{"name":"mask","type":"MASK","link":140}],"outputs":[{"name":"LATENT","type":"LATENT","links":[25,57],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncodeForInpaint"},"widgets_values":[20]},{"id":152,"type":"MaskToImage","pos":[2610,2650],"size":{"0":180,"1":30},"flags":{},"order":34,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":133}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[134],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":80,"type":"PreviewImage","pos":[2590,2730],"size":{"0":220,"1":250},"flags":{},"order":36,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":134}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":3,"type":"KSampler","pos":[3710,360],"size":{"0":320,"1":474},"flags":{},"order":40,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":17},{"name":"positive","type":"CONDITIONING","link":10},{"name":"negative","type":"CONDITIONING","link":11},{"name":"latent_image","type":"LATENT","link":18}],"outputs":[{"name":"LATENT","type":"LATENT","links":[12],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[123456797,"fixed",8,1.5,"dpmpp_sde","normal",1]},{"id":60,"type":"ImageUpscaleWithModel","pos":[4850,340],"size":{"0":241.79998779296875,"1":46},"flags":{},"order":42,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":29},{"name":"image","type":"IMAGE","link":30}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[34,40],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"}},{"id":151,"type":"INPAINT_ExpandMask","pos":[2530,2510],"size":{"0":315,"1":82},"flags":{},"order":31,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":132}],"outputs":[{"name":"MASK","type":"MASK","links":[133,140],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"INPAINT_ExpandMask"},"widgets_values":[0,64]},{"id":4,"type":"CheckpointLoaderSimple","pos":[1060,400],"size":{"0":530,"1":110},"flags":{},"order":2,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[16],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[13],"slot_index":1},{"name":"VAE","type":"VAE","links":[21],"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SDXL/lightning/dreamshaperXL_lightningDPMSDE.safetensors"]},{"id":146,"type":"LoadImage","pos":[-50,1630],"size":{"0":400,"1":540},"flags":{},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[119,122],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[123],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-3094386.1000000015.png [input]","image"]},{"id":51,"type":"INPAINT_LoadFooocusInpaint","pos":[2880,-400],"size":{"0":315,"1":82},"flags":{},"order":4,"mode":0,"outputs":[{"name":"INPAINT_PATCH","type":"INPAINT_PATCH","links":[24],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"INPAINT_LoadFooocusInpaint"},"widgets_values":["SDXL/fooocus_inpaint_head.pth","SDXL/inpaint_v26.fooocus.patch"]},{"id":155,"type":"Note","pos":[1018,564],"size":{"0":617.7569580078125,"1":66.29908752441406},"flags":{},"order":5,"mode":0,"properties":{"text":""},"widgets_values":["dreamshaperXL_lightningDPMSDE.safetensors\n\nhttps://civitai.com/api/download/models/354657?type=Model&format=SafeTensor&size=full&fp=fp16"],"color":"#432","bgcolor":"#653"},{"id":156,"type":"Note","pos":[2840,-163],"size":{"0":725.4600219726562,"1":65.02947235107422},"flags":{},"order":6,"mode":0,"properties":{"text":""},"widgets_values":["https://huggingface.co/lllyasviel/fooocus_inpaint/resolve/main/fooocus_inpaint_head.pth?download=true\nhttps://huggingface.co/lllyasviel/fooocus_inpaint/resolve/main/inpaint_v26.fooocus.patch?download=true"],"color":"#432","bgcolor":"#653"},{"id":157,"type":"Note","pos":[4567,431],"size":{"0":554.9661254882812,"1":58},"flags":{},"order":7,"mode":0,"properties":{"text":""},"widgets_values":["https://huggingface.co/Kim2091/UltraSharp/resolve/main/4x-UltraSharp.pth?download=true"],"color":"#432","bgcolor":"#653"},{"id":99,"type":"Note","pos":[-40,2230],"size":{"0":390,"1":100},"flags":{},"order":8,"mode":0,"properties":{"text":""},"widgets_values":["flower_hat.jpg\nRight click and choose 'Open in MaskEditor' to paint mask.\n"],"color":"#432","bgcolor":"#653"}],"links":[[10,6,0,3,1,"CONDITIONING"],[11,7,0,3,2,"CONDITIONING"],[12,3,0,8,0,"LATENT"],[13,4,1,10,0,"CLIP"],[14,10,0,6,0,"CLIP"],[15,10,0,7,0,"CLIP"],[16,4,0,26,0,"*"],[17,27,0,3,0,"MODEL"],[18,28,0,3,3,"LATENT"],[19,29,0,8,1,"VAE"],[20,30,0,29,0,"*"],[21,4,2,30,0,"*"],[22,40,0,33,0,"IMAGE"],[23,30,0,42,1,"VAE"],[24,51,0,52,1,"INPAINT_PATCH"],[25,42,0,52,2,"LATENT"],[26,26,0,52,0,"MODEL"],[28,52,0,27,0,"*"],[29,59,0,60,0,"UPSCALE_MODEL"],[30,8,0,60,1,"IMAGE"],[31,72,0,63,1,"INT"],[32,72,1,63,2,"INT"],[34,60,0,63,0,"IMAGE"],[35,75,0,72,0,"IMAGE"],[36,41,0,11,0,"IMAGE"],[37,75,0,76,0,"*"],[38,76,0,40,0,"IMAGE"],[39,8,0,77,0,"IMAGE"],[40,60,0,78,0,"IMAGE"],[44,90,0,89,1,"INT"],[45,90,1,89,2,"INT"],[46,89,0,88,0,"IMAGE"],[47,89,0,86,0,"IMAGE"],[48,95,0,93,0,"IMAGE"],[49,95,0,94,0,"IMAGE"],[50,90,0,95,1,"INT"],[51,90,1,95,2,"INT"],[52,49,0,95,0,"IMAGE"],[54,89,0,42,0,"IMAGE"],[56,96,0,89,0,"IMAGE"],[57,42,0,28,0,"*"],[59,40,0,98,0,"IMAGE"],[61,63,0,41,0,"IMAGE"],[62,73,0,75,0,"*"],[63,63,0,97,0,"IMAGE"],[65,96,0,73,0,"*"],[119,146,0,147,0,"IMAGE"],[121,148,0,49,0,"MASK"],[122,146,0,96,0,"*"],[123,146,1,148,0,"*"],[131,95,0,57,0,"IMAGE"],[132,57,0,151,0,"MASK"],[133,151,0,152,0,"MASK"],[134,152,0,80,0,"IMAGE"],[140,151,0,42,2,"MASK"]],"groups":[{"title":"INPAINT MODEL (FOOOCUS)","bounding":[2790,-550,801,489],"color":"#b39ddb","font_size":36},{"title":"CHECKPOINT","bounding":[850,220,862,437],"color":"#3f789e","font_size":24},{"title":"CONDITIONING","bounding":[1980,160,1390,540],"color":"#b58b2a","font_size":24},{"title":"LATENT FROM IMAGE WITH MASK","bounding":[2450,730,920,290],"color":"#a1309b","font_size":36},{"title":"BLUR MASK AND RESIZE TO SDXL RESOLUTION","bounding":[1610,2230,1340,780],"color":"#8A8","font_size":24},{"title":"\"DUMB\" DOWNSCALE TO SDXL RESOLUTION","bounding":[1620,1370,1090,700],"color":"#64b5f6","font_size":24},{"title":"Sampler","bounding":[3660,60,830,890],"color":"#b06634","font_size":24},{"title":"AI scale to 4x resolution","bounding":[4500,60,650,440],"color":"#3f789e","font_size":24},{"title":"\"Dumb\" scale to original resolution","bounding":[5160,60,660,440],"color":"#3f789e","font_size":24},{"title":"Group","bounding":[5890,140,1920,1690],"color":"#3f789e","font_size":24},{"title":"ORIGINAL IMAGE + MASK","bounding":[-140,1370,620,1060],"color":"#3f789e","font_size":24}],"config":{},"extra":{"workspace_info":{"id":"x2to3TCJ2hi3hUBf1yffv","saveLock":false,"cloudID":null,"coverMediaPath":null},"ds":{"scale":0.23939204936916383,"offset":{"0":957.2000065486927,"1":1375.959707582279}}},"version":0.4}